---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeaderBar from '../components/HeaderBar.astro';
import Hero from '../components/sections/Hero.astro';
import Skills from '../components/sections/Skills.astro';
import Experience from '../components/sections/Experience.astro';
import Projects from '../components/sections/Projects.astro';
import Education from '../components/sections/Education.astro';
import IconBadge from '../components/IconBadge.astro';
import ContactLines from '../components/ContactLines.astro';

import { t } from '../i18n/translations';
import {
  getEducationItems,
  getExperienceItems,
  getNav,
  getProjectItems,
  getSkillItems,
} from '../data/content';

const lang = 'zh' as const;
const navItems = getNav(lang);
const skillItems = getSkillItems(lang);
const experienceItems = getExperienceItems(lang);
const projectItems = getProjectItems(lang);
const educationItems = getEducationItems(lang);

const title = '廖偉帆 | 前端工程師履歷';
const description =
  '廖偉帆（Sail Liao）前端工程師履歷：Next.js、React、Vue、TypeScript、Tailwind 與區塊鏈管理後臺經驗。';
const ogUrl = 'https://resume-sail.vercel.app';
const ogImageUrl = `${ogUrl}/og-image.png`;
---

<BaseLayout
  lang={lang}
  title={title}
  description={description}
  ogUrl={ogUrl}
  ogImageUrl={ogImageUrl}
>
  <div
    class="fixed inset-0 bg-gradient-to-br from-[rgba(77,212,182,0.08)] to-[rgba(55,107,255,0.05)] blur-[40px] opacity-90 pointer-events-none z-0 print-hidden"
  >
  </div>
  <div class="relative z-10 max-w-[1080px] mx-auto px-7 pb-16 pt-12">
    <HeaderBar lang={lang} nav={navItems} />

    <Hero
      eyebrowHtml={t(lang, 'eyebrow')}
      nameHtml={t(lang, 'hero-name')}
      ledeHtml={t(lang, 'lede')}
      locationLabel={t(lang, 'meta-location-label')}
      locationValue={t(lang, 'meta-location-value')}
      contactLabel={t(lang, 'meta-contact-label')}
      contactEmail={t(lang, 'contact-email')}
      titleLabel={t(lang, 'meta-title-label')}
      titleValue={t(lang, 'meta-title-value')}
      langLabel={t(lang, 'meta-lang-label')}
      langValue={t(lang, 'meta-lang-value')}
      ctaLabel={t(lang, 'cta-primary')}
    />

    <Skills title={t(lang, 'skills-title')} desc={t(lang, 'skills-desc')} items={skillItems} />
    <Experience title={t(lang, 'exp-title')} desc={t(lang, 'exp-desc')} items={experienceItems} />
    <Projects title={t(lang, 'proj-title')} desc={t(lang, 'proj-desc')} items={projectItems} />
    <Education title={t(lang, 'edu-title')} desc={t(lang, 'edu-desc')} items={educationItems} />

    <footer
      class="mt-8 border rounded-xl p-5 flex flex-wrap gap-3 items-center shadow-[var(--shadow)]"
      style={{
        background: 'rgba(255,255,255,0.02)',
        borderColor: 'var(--border)',
        color: 'var(--muted)',
      }}
    >
      <div
        class="flex items-center gap-3 px-3 py-3 rounded-xl"
        style={{
          border: '1px solid rgba(255,255,255,0.08)',
          background: 'rgba(255,255,255,0.02)',
        }}
      >
        <IconBadge>
          <svg class="w-[18px] h-[18px] fill-[var(--accent-strong)]" viewBox="0 0 24 24">
            <path
              d="M4.5 6.2 10 10c1.2.8 2.8.8 4 0l5.5-3.8c.3-.2.5-.5.5-.9 0-.7-.6-1.3-1.3-1.3H5.3C4.6 4 4 4.6 4 5.3c0 .3.2.7.5.9ZM20 8.3l-4.7 3.3a4.8 4.8 0 0 1-5.6 0L5 8.3V16c0 1 .8 1.8 1.8 1.8h11.4c1 0 1.8-.8 1.8-1.8V8.3Z"
            ></path>
          </svg>
        </IconBadge>
        <div>
          <p class="text-[13px] text-[var(--muted)] m-0 mb-1">{t(lang, 'footer-contact-label')}</p>
          <ContactLines email={t(lang, 'contact-email')} />
        </div>
      </div>
      <div
        class="flex items-center gap-3 px-3 py-3 rounded-xl"
        style={{
          border: '1px solid rgba(255,255,255,0.08)',
          background: 'rgba(255,255,255,0.02)',
        }}
      >
        <IconBadge>
          <svg class="w-[18px] h-[18px] fill-[var(--accent-strong)]" viewBox="0 0 24 24">
            <path
              d="M12 2.5c-3.5 0-6.5 2.8-6.5 6.4 0 4.9 6.5 12.6 6.5 12.6s6.5-7.7 6.5-12.6c0-3.6-3-6.4-6.5-6.4Zm0 9.2a2.8 2.8 0 1 1 0-5.6 2.8 2.8 0 0 1 0 5.6Z"
            ></path>
          </svg>
        </IconBadge>
        <div>
          <p class="text-[13px] text-[var(--muted)] m-0 mb-1">{t(lang, 'footer-role-label')}</p>
          <p class="m-0 font-semibold leading-6 text-[var(--text)]">
            {t(lang, 'footer-role-value')}
          </p>
        </div>
      </div>
      <p class="m-0 ml-auto text-[var(--muted)]">{t(lang, 'footer-update')}</p>
    </footer>
  </div>
</BaseLayout>
